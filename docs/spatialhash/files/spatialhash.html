<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
	<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
</head>

<body>
<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->

<div id="main">

<div id="navigation">


<h1>LuaDoc</h1>
<ul>
	
	<li><a href="../index.html">Index</a></li>
	
</ul>


<!-- Module list -->



<!-- File list -->

<h1>Files</h1>
<ul>

	<li><strong>spatialhash.lua</strong></li>
	
</ul>






</div> <!-- id="navigation" -->

<div id="content">

<h1>File <code>spatialhash.lua</code></h1>







<h2>Functions</h2>
<table class="function_list">

	<tr>
	<td class="name" nowrap><a href="#SpatialHash">SpatialHash</a>&nbsp;(width, height, cellSize)</td>
	<td class="summary">Instantiates a new spatial hash (synctactic shortcut to <tt>SpatialHash:new()</tt>.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#SpatialHash:addShape">SpatialHash:addShape</a>&nbsp;(shape)</td>
	<td class="summary">Adds a given shape in a SpatialHash.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#SpatialHash:getCollidingPairs">SpatialHash:getCollidingPairs</a>&nbsp;(shapes)</td>
	<td class="summary">Returns a list of potentially colliding-pairs </td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#SpatialHash:getCollidingWith">SpatialHash:getCollidingWith</a>&nbsp;(shape)</td>
	<td class="summary">Returns a set of potentially colliding-pairs involving a given shape </td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#SpatialHash:new">SpatialHash:new</a>&nbsp;(width, height, cellSize)</td>
	<td class="summary">Instantiate a new spatial hash.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#SpatialHash:removeShape">SpatialHash:removeShape</a>&nbsp;(shape)</td>
	<td class="summary">Removes a given shape from a SpatialHash.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#SpatialHash:updateShape">SpatialHash:updateShape</a>&nbsp;(shape)</td>
	<td class="summary">Updates a given shape position in the hash.</td>
	</tr>

</table>




<h2>Tables</h2>
<table class="table_list">

	<tr>
	<td class="name" nowrap><a href="#spatialHash">spatialHash</a></td>
	<td class="summary">a <tt>spatialHash</tt> instance.</td>
	</tr>

</table>



<br/>
<br/>




<h2><a name="functions"></a>Functions</h2>
<dl class="function">



<dt><a name="SpatialHash"></a><strong>SpatialHash</strong>&nbsp;(width, height, cellSize)</dt>
<dd>
Instantiates a new spatial hash (synctactic shortcut to <tt>SpatialHash:new()</tt>.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>width</em></code>: the world space width
	</li>
	
	<li>
	  <code><em>height</em></code>: the world space height
	</li>
	
	<li>
	  <code><em>cellSize</em></code>: the square cell size of the grid. Must be larger than the largest shape in the space.
	</li>
	
</ul>






<h3>Return value:</h3>
<ul>a <tt>SpatialHash</tt></ul>



</dd>




<dt><a name="SpatialHash:addShape"></a><strong>SpatialHash:addShape</strong>&nbsp;(shape)</dt>
<dd>
Adds a given shape in a SpatialHash. The given shape must implement a <tt>getAABB</tt> method returning rectangle bounding vertices coordinates, that is in order, the upper-left and lower-right corners coordinates <ul><pre class="example"> local shape = {x = 10, y = 10, w = 20, h = 20}<br/> function shape:getAABB() <br>  return (self.x, self.y, self.x+self.w,self.y+self.h)<br/> end </pre></ul>


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>shape</em></code>: a <tt>shape</tt>
	</li>
	
</ul>








</dd>




<dt><a name="SpatialHash:getCollidingPairs"></a><strong>SpatialHash:getCollidingPairs</strong>&nbsp;(shapes)</dt>
<dd>
Returns a list of potentially colliding-pairs


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>shapes</em></code>: an array list of <tt>shape</tt> objects
	</li>
	
</ul>






<h3>Return values:</h3>
<ol>
	
	<li>an array-list of pairs in mutual bounding-box collision</li>
	
	<li>the number of bounding-box collision checks made</li>
	
</ol>



</dd>




<dt><a name="SpatialHash:getCollidingWith"></a><strong>SpatialHash:getCollidingWith</strong>&nbsp;(shape)</dt>
<dd>
Returns a set of potentially colliding-pairs involving a given shape


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>shape</em></code>: a <tt>shape</tt>
	</li>
	
</ul>






<h3>Return values:</h3>
<ol>
	
	<li>an array-list of shapes in bounding-box collision with a given shape</li>
	
	<li>the number of bounding-box collision checks made</li>
	
</ol>



</dd>




<dt><a name="SpatialHash:new"></a><strong>SpatialHash:new</strong>&nbsp;(width, height, cellSize)</dt>
<dd>
Instantiate a new spatial hash.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>width</em></code>: the world space width
	</li>
	
	<li>
	  <code><em>height</em></code>: the world space height
	</li>
	
	<li>
	  <code><em>cellSize</em></code>: the square cell size of the grid. Must be larger than the largest shape in the space.
	</li>
	
</ul>






<h3>Return value:</h3>
<ul>a <tt>SpatialHash</tt></ul>



</dd>




<dt><a name="SpatialHash:removeShape"></a><strong>SpatialHash:removeShape</strong>&nbsp;(shape)</dt>
<dd>
Removes a given shape from a SpatialHash.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>shape</em></code>: a <tt>shape</tt>
	</li>
	
</ul>








</dd>




<dt><a name="SpatialHash:updateShape"></a><strong>SpatialHash:updateShape</strong>&nbsp;(shape)</dt>
<dd>
Updates a given shape position in the hash. Should be called each time the given shape <em>position</em> or <em>geometry</em> attributes changes.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  <code><em>shape</em></code>: a <tt>shape</tt>
	</li>
	
</ul>








</dd>


</dl>




<h2><a name="tables"></a>Tables</h2>
<dl class="table">

<dt><a name="spatialHash"></a><strong>spatialHash</strong></dt>
<dd>a <tt>spatialHash</tt> instance. <em>Although all attributes are accessible, those starting with <strong>__</strong> should be considered as <strong>internal</strong></em>.<br /><br />


<h3>Fields:</h3>
<ul>
	
	<li>
	  <code><em>width</em></code>: the world space width
	</li>
	
	<li>
	  <code><em>height</em></code>: the world space height
	</li>
	
	<li>
	  <code><em>cellSize</em></code>: the square cell size of the grid. Must be larger than the largest shape in the space.
	</li>
	
	<li>
	  <code><em>__cols</em></code>: the number of columns in the spatial grid
	</li>
	
	<li>
	  <code><em>__rows</em></code>: the number of rows in the spatial grid
	</li>
	
	<li>
	  <code><em>__size</em></code>: the number of buckets (i.e. <em>cells</em>) in the spatial grid
	</li>
	
	<li>
	  <code><em>__array</em></code>: the array-list holding the spatial grid buckets
	</li>
	
</ul>


</dd>


</dl>




</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
	<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->	
</body>
</html>
